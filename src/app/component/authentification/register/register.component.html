<div class="login-form text-center">
  <main class="form-signin">
    <form (ngSubmit)="onSubmit()" [formGroup]="registerForm">
      <h1>Créez votre compte !</h1>

      <div class="form-floating">
        <input
          type="text"
          class="form-control"
          id="floatingInput"
          placeholder="Username"
          formControlName="username"
        />
        <label for="floatingInput">Username</label>
      </div>

      <div class="form-floating">
        <input
          type="email"
          [ngClass]="{
            'is-invalid':
              (registerForm.get('email')?.dirty ||
                registerForm.get('email')?.touched) &&
              registerForm.get('email')?.invalid
          }"
          class="form-control"
          id="floatingInput"
          placeholder="name@mail.com"
          formControlName="email"
        />
        <label for="floatingInput">Adresse Email</label>
      </div>

      <div class="form-floating">
        <input
          type="text"
          class="form-control"
          id="floatingInput"
          placeholder="Présentation"
          formControlName="presentation"
        />
        <label for="floatingInput">Présentation</label>
      </div>

      <div class="form-floating">
        <select aria-label="Default select example" class="form-control"
                id="floatingInput role"formControlName="role">
                  <option selected>Selectionnez votre profil</option>
                  <option value="ROLE_INVESTISSEUR">Investisseur</option>
                  <option value="ROLE_ENTREPRENEUR">Entrepreneur</option>
                </select>
                <label for="floatingInput role">Role</label>
      </div>

      <div class="form-floating">
        <input
          type="password"
          class="form-control"
          [ngClass]="{
            'is-invalid':
              (registerForm.get('password')?.dirty ||
                registerForm.get('password')?.touched) &&
              registerForm.get('password')?.invalid
          }"
          id="floatingInput"
          placeholder="password"
          formControlName="password"
        />
        <label for="floatingInput">Mot de passe</label>
        <div *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="error">
          <span *ngIf="password?.errors?.required">
            Ce champs est obligatoire
          </span>
          <span *ngIf="password?.errors?.pattern">
            Mot de passe doit contenir minimum 8 caractères, 1 majuscule, 1 minuscule et 1 caractère spécial.
          </span>
        </div>
      </div>

      <button
        class="w-100 btn btn-lg btn-primary"
        type="submit"
        [disabled]="registerForm.invalid"
      >
        Création
      </button>
    </form>
    <div>
      <hr>
      <p>Dejà inscrit ?
        <span>
          <a href="http://" routerLink="/login" routerLinkActive="active">
            Connectez-vous
          </a>
        </span>
      </p>
    </div>
  </main>
</div>
